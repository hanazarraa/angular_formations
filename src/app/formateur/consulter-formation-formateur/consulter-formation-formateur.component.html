<app-courses-program-formateur></app-courses-program-formateur>
<div id="right-panel" class="right-panel">
    <app-navbar></app-navbar> 
 
    <div class="content">
      <div class="animated fadeIn">
          <div class="row">
              <div class="col-md-12">
                  <div class="card">
                      <div class="card-header">
                        <a  routerLink=".."><i class="fa fa-arrow-left" style="color: black;"></i> </a>  &nbsp;&nbsp;<strong class="card-title">Programme {{programme.titre}}</strong>

                      </div>
                      <div class="card-body">
                          <div class="col-sm-12">
                              <!-- Nav tabs -->
  
                              <!--<ul class="nav nav-pills ">
                               
                                <li>
                                  <a class="active" id="presentation-tab" data-toggle="tab" href="#presentation" >Présentation</a>
                                </li>
                                <li>
                                  <a  id="cmpv-tab" data-toggle="tab" href="#cmpv" >CMPV</a>
                                </li>
                                <li >
                                  <a  id="evaluation-tab" data-toggle="tab" href="#evaluation">Evaluation</a>
                                </li>
                                <li >
                                  <a  id="materiel-tab" data-toggle="tab" href="#materiel">Matériel Pédagogique</a>
                                </li>
                                <li >
                                  <a  id="reunion-tab" data-toggle="tab" href="#reunions">Reunions</a>
                                </li>
                               
                                </ul>-->
                              <ul class="nav d-flex justify-content-center">
                                  <li class="nav-item mx-lg-4">
                                      <a class="filter-btn nav-link btn-outline-primary active shadow rounded-pill text-light px-4 light-300"
                                          id="presentation-tab" data-toggle="tab" href="#presentation" role="tab"
                                          aria-controls="presentation" aria-selected="true"
                                          (click)="presentation()">Présentation</a>
                                  </li>
                                  <li class="nav-item mx-lg-4">
                                      <a class="filter-btn nav-link btn-outline-primary shadow rounded-pill text-dark px-4 light-300"
                                          id="cmpv-tab" data-toggle="tab" href="#cmpv" role="tab" aria-controls="cmpv"
                                          aria-selected="true" (click)="cmpv()">CMPV</a>
                                  </li>
                                  <li class="nav-item mx-lg-4">
                                      <a class="filter-btn nav-link btn-outline-primary shadow rounded-pill text-dark px-4 light-300"
                                          id="evaluation-tab" data-toggle="tab" href="#evaluation" role="tab"
                                          aria-controls="evaluation" aria-selected="true"
                                          (click)="evaluation()">Evaluation</a>
                                  </li>
                              </ul>
  
  
                              <!-- Tab panes -->
                              <div class="tab-content" id="nav-tabContent">
                                  <form class="form-horizontal tab-content" id="nav-tabContent"
                                      (ngSubmit)="valider_formation(form)" novalidate>
                                      <br><br>
                                      <div class="alert alert-warning" *ngIf='submitted && !updateSuccess'>{{errorMessage}}</div>
                                      <div class="alert alert-success" *ngIf='submitted && updateSuccess'>{{successMessage}}</div>
                                    
                                        
                                      <div class="tab-pane fade show active" id="presentation" role="tabpanel"
                                          aria-labelledby="presentation-tab">
  
                                          <div class="row">
                                              <div class="col-sm-12">
                                                  <br><br><br>
                                                  <div class="jumbotron" style="background-color: white;">
                                                      <div class="row form-group" [class.has-error]="titreControl.invalid">
                                                          <div class="col col-md-3">
                                                            <label class=" form-control-label">Titre</label>
                                                          </div>
                                                          <div class="input-group col col-md-4">
                                                            <input type="text" id="titre" name="titre" class="form-control"
                                                              placeholder="Titre de Programme" [(ngModel)]="programme.titre" disabled
                                                              #titreControl="ngModel" required>
                                                          </div>
                                                          <span class="help-block" *ngIf="titreControl.invalid   && submitted" >
                                                            Veuillez entrer un titre de Programme
                                                          </span>
                                                        </div>
                            
                            
                            
                                                        <div class="row form-group" [class.has-error]="descriptionControl.invalid">
                                                          <div class="col col-md-3"><label for="textarea-input"
                                                              class=" form-control-label">Description</label></div>
                                                          <div class="col-12 col-md-5"><textarea name="description" id="description"
                                                              placeholder="Description du Programme" [(ngModel)]="programme.description"
                                                              #descriptionControl="ngModel" required class="form-control" disabled></textarea></div>
                                                        
                                                        </div>
                                                        <div class="row form-group" [class.has-error]="durationControl.invalid">
                                                          <div class="col col-md-3"><label for="textarea-input"
                                                              class=" form-control-label">Durée</label></div>
                                                          <div class="col-12 col-md-5">
                                                              <!--<ngx-duration-picker showPreview="false"
                                                              [options]="{ showWeeks: false , showDays : false, showMonths : false, showYears: false }" [(ngModel)]="programmeModel.duration" required #durationControl="ngModel" id="duration" name="duration"></ngx-duration-picker>-->
   
                                                              <!--<input type="text" class="form-control" [className]="'html-duration-picker form-control' " [(ngModel)]="programmeModel.duration" #durationControl="ngModel" id="duration" name="duration" required>-->
  
  
                                                        <input type="text" class="form-control" name="duration" id="duration" [(ngModel)]="programme.duration"
                                                            #durationControl="ngModel" required placeholder="Durée" disabled>
  
                                                      </div>
                                                      <span class="help-block" *ngIf="durationControl.invalid   && submitted">
                                                        Veuillez entrer une Durée de Programme
                                                      </span>
                                                      </div>
                                                      <div class="row form-group" [class.has-error]="minControl.invalid">
                                                        <div class="col col-md-3"><label for="textarea-input"
                                                            class=" form-control-label">Min</label></div>
                                                        <div class="col-12 col-md-5">
                                                            <!--<ngx-duration-picker showPreview="false"
                                                            [options]="{ showWeeks: false , showDays : false, showMonths : false, showYears: false }" [(ngModel)]="programmeModel.duration" required #durationControl="ngModel" id="duration" name="duration"></ngx-duration-picker>-->
  
                                                            <input type="text" class="form-control" disabled  [(ngModel)]="programme.min" #minControl="ngModel" id="min" name="min" required placeholder="Min">
  
                                                      </div>
                                                      </div>
                                                      <div class="row form-group" [class.has-error]="maxControl.invalid">
                                                        <div class="col col-md-3"><label for="textarea-input"
                                                            class=" form-control-label">Max</label></div>
                                                        <div class="col-12 col-md-5">
                                                            <!--<ngx-duration-picker showPreview="false"
                                                            [options]="{ showWeeks: false , showDays : false, showMonths : false, showYears: false }" [(ngModel)]="programmeModel.duration" required #durationControl="ngModel" id="duration" name="duration"></ngx-duration-picker>-->
  
                                                            <input type="text" class="form-control"   [(ngModel)]="programme.max" #maxControl="ngModel" id="max" name="max" required placeholder="Max" disabled>
  
                                                      </div>
                                                      </div>
                                                        <br>
                                                        <br>
                            
                            
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                      <div class="tab-pane" id="cmpv">
                                          <div class="row">
                                              <div class="col-sm-12">
                                                  <br><br><br>
                                                  <div class="jumbotron" style="background-color: white;">
                                                      <div class="row form-group">
  
  
  
  
  
  
                                                          <table class="table table-striped table-bordered">
                                                              <thead>
                                                                  <tr>
                                                                      <th>Competence</th>
                                                                      
  
                                                                  </tr>
                                                              </thead>
                                                              <tbody>
  
  
  
                                                                  <tr
                                                                      *ngFor="let competence of competences; index as i; ">
  
                                                                      <td>
                                                                        {{competence.competence_name}}
                                                                          <!--<ngx-select [items]="competences"
                                                                              optionTextField="titre"
                                                                              [(ngModel)]="dynamicArray[i].competence"
                                                                              contenteditable="true"
                                                                              name='competence{{i}}'></ngx-select>-->
                                                                          <!--<input [(ngModel)]="dynamicArray[i].competence" class="form-control" type="text" name="competence" id="competence"/>  -->
                                                                      </td>
                                                                       
                                                                     
                                                                  </tr>
  
                                                                  
                                                              </tbody>
                                                          </table>
  
  
                                                      </div>
  
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                      <div class="tab-pane" id="evaluation">
                                          <div class="row">
                                              <div class="col-sm-12">
                                                  <br><br><br>
                                                  <div class="jumbotron" style="background-color: white;">
                                                      <ul class="nav d-flex justify-content-center">
                                                          <li class="nav-item mx-lg-4">
                                                              <a class="filter-btn nav-link btn-outline-primary active shadow rounded-pill text-light px-4 light-300"
                                                                  id="travaux-tab" data-toggle="tab" href="#travaux"
                                                                  role="tab" aria-controls="travaux" aria-selected="true"
                                                                  (click)="travaux()">Travaux</a>
                                                          </li>
                                                          <li class="nav-item mx-lg-4">
                                                              <a class="filter-btn nav-link btn-outline-primary shadow rounded-pill text-dark px-4 light-300"
                                                                  id="qcm-tab" data-toggle="tab" href="#qcm" role="tab"
                                                                  aria-controls="qcm" aria-selected="true"
                                                                  (click)="qcm()">Quiz</a>
                                                          </li>
  
                                                      </ul>
                                                      <div class="tab-content" id="nav-tabContent">
                                                          <form class="form-horizontal tab-content" id="nav-tabContent"
                                                              (ngSubmit)="valider_formation(form)" novalidate>
                                                              <div class="tab-pane fade show active" id="travaux"
                                                                  role="tabpanel" aria-labelledby="travaux-tab">
                                                                  <app-slider *ngIf="currentt === 0" [left]="isLeftTransition(0)">

                                                                    <br><br>



                                                                    <button class="btn btn-outline-primary rounded-pill shadow" type="button" (click)="addTravail()">Ajouter Travail</button>
                                                                  
                                                                     <br><br>
                                                                    <h2>Liste des travaux</h2>
                                                                  <div class="row form-group">

  
  
  
  
                                                                      
                                                                    <table class="table">
                                                                          <thead>
                                                                            <tr>
                                      
                                                                              <th>Titre</th>
                                                                              <th>Date début</th>
                                      
                                                                              <th>Date Limite</th>
                                                                           
                                                                               <th>Pondération</th> 
                                                                              <!--<th>Résultat</th>-->
                                                                              <th>Action</th>
                                                                            </tr>
                                                                          </thead>
                                                                          <tbody>
                                      
                                      
                                      
                                                                            <tr *ngFor="let travail of traveaux; index as i; trackBy: customTrackBy">
                                      
                                                                              <td>
                                                                                <!--<div class="form-group" [class.has-error]="first_nameControl.invalid">
                                                                                  <label>Nom  </label>
                                                                                  <input type="text" class="form-control"   placeholder="Nom" [(ngModel)]="userModel.first_name" id="first_name" name="first_name" #first_nameControl="ngModel" required>
                                                      
                                                                                  
                                                                                  <span class="help-block" *ngIf="first_nameControl.invalid   && submitted" >
                                                                                      Veuillez entrer votre Nom
                                                                                    </span>
                                                                              </div>-->
                                                                              <div class="form-group" [class.has-error]="titre_Control.invalid">
                                                                             
                                                                                <input [(ngModel)]="traveaux[i].titre" class="form-control" type="text" #titre_Control="ngModel"
                                                                                  name="titre{{i}}" id="titre{{i}}" required />
                                                                                   
                                                                                  <span class="help-block" *ngIf=" titre_Control.invalid   && submitted" >
                                                                                    Veuilez saisir le titre de Travail
                                                                                  </span>
                                                                                  </div>
                                                                              </td>
                                                                              <td>
                                                                                <div class="form-group" [class.has-error]="date_debut_Control.invalid">
                                                                             
                                                                             
                                                                                <input type="date" class="form-control" name="date_debut{{i}}" #date_debut_Control="ngModel" id="date_debut{{i}}"
                                                                                  [(ngModel)]="traveaux[i].date_debut" required>
                                                                                  {{form.get('date_debut').errors}}
                                      
                                      
                                                                                  <span class="help-block" *ngIf=" date_debut_Control.invalid   && submitted " >
                                                                                   Veuillez saisir la date début
                                                                                  </span>
                                                                                  </div>
                                                                              </td>
                                                                              <td>
                                                                                <div class="form-group" [class.has-error]="date_limite_Control.invalid">
                                                                           
                                                                                <input type="date" class="form-control" name="date_limite{{i}}" #date_limite_Control="ngModel"
                                                                                
                                                                                  [(ngModel)]="traveaux[i].date_limite" id="date_limite{{i}}" required>
                                                                                  <span class="help-block" *ngIf=" date_limite_Control.invalid   && submitted" >
                                                                                    Veuillez saisir la date limite 
                                                                                   </span>
                                                                                  </div>
                                      
                                                                              </td>
                                      
                                                                             
                                                                              <td>
                                                                                <div class="form-group" [class.has-error]="ponderation_Control.invalid">
                                                                             
                                                                             
                                                                                <input type="text" class="form-control" name="ponderation{i}}" #ponderation_Control="ngModel" id="ponderation{{i}}"
                                                                                  [(ngModel)]="traveaux[i].ponderation" required>
                                                                                  {{form.get('ponderation').errors}}
                                      
                                      
                                                                                  <span class="help-block" *ngIf=" date_debut_Control.invalid   && submitted " >
                                                                                   Veuillez saisir la ponderation
                                                                                  </span>
                                                                                  </div>
                                                                              </td>
                                      
                                                                              <!--<td>
                                                                                <input type="text" name="ponderation{{i}}"
                                                                                  [(ngModel)]="traveaux[i].ponderation" class="form-control">
                                                                              </td>-->
                                                                              <td width="200px"><a class="btn" (click)="deleteTravail(i)" style="background-color: white;">
                                                                                <i class="fa fa-trash fa-2x"></i></a>&nbsp;
                                                                                <a class="btn"      style="background-color: white;width: 100px; "  (click)="onNextT(travail)"  > <i
                                                                                  class="fas fa-external-link-alt"></i>Test</a>
                                    
                                                                              </td> 
                                                                            </tr>
                                      
                                                                            <tr>
                                                                              <td></td>
                                                                              <td></td>
                                                                              <td></td>
                                                                              <td></td>
                                                                              <td></td>
                                                                             
                                                                            </tr>
                                                                          </tbody>
                                                                        </table>
                                                                            
                                                                  </div>
                                                                  </app-slider>
                                                                  <app-slider *ngIf="currentt ==1">
                                                                    <br><br>
                                                                    <div class="container" appDnd (fileDropped)="onFileDropped($event)" style="height: 300px;">
                                                                      <input type="file" #fileDropRef id="fileDropRef"  multiple (change)="fileBrowseHandler($event.target.files)" />
                                                                      <svg xmlns="http://www.w3.org/2000/svg" width="63" height="64" viewBox="0 0 63 64">
                                                                        <g fill="#3B454F" fill-rule="nonzero">
                                                                          <path
                                                                            d="M42.656 15.135a1.953 1.953 0 0 1-1.391-.578L31.5 4.795l-9.765 9.762a1.97 1.97 0 1 1-2.785-2.785L30.106.616a1.97 1.97 0 0 1 2.785 0l11.157 11.156a1.97 1.97 0 0 1-1.392 3.363z" />
                                                                          <path
                                                                            d="M31.5 36.791a1.97 1.97 0 0 1-1.969-1.969V2.01a1.97 1.97 0 0 1 3.938 0v32.812a1.97 1.97 0 0 1-1.969 1.969z" />
                                                                          <path
                                                                            d="M55.781 63.041H7.22A7.225 7.225 0 0 1 0 55.822V41.385a4.599 4.599 0 0 1 4.594-4.594h7.234a4.567 4.567 0 0 1 4.402 3.276l2.814 9.382a.658.658 0 0 0 .628.467h23.656a.658.658 0 0 0 .628-.467l2.814-9.385a4.572 4.572 0 0 1 4.402-3.273h7.234A4.599 4.599 0 0 1 63 41.385v14.437a7.225 7.225 0 0 1-7.219 7.219zM4.594 40.729a.656.656 0 0 0-.657.656v14.437a3.286 3.286 0 0 0 3.282 3.282H55.78a3.286 3.286 0 0 0 3.282-3.282V41.385a.656.656 0 0 0-.657-.656h-7.234a.65.65 0 0 0-.628.467L47.73 50.58a4.628 4.628 0 0 1-4.402 3.274H19.672a4.567 4.567 0 0 1-4.402-3.276l-2.814-9.382a.65.65 0 0 0-.628-.467H4.594z" />
                                                                        </g>
                                                                      </svg>
                                                                    
                                                                      <h3>Drag and drop file here</h3>
                                                                      <h3>or</h3>
                                                                      <label for="fileDropRef">Browse for file</label>
                                                                    </div>
                                                                    <div class="files-list"  >
                                                      
                                                                      <div class="single-file" *ngFor="let file of files1; let i = index">
                                                                        <div class="file-icon" style="width: 50px">
                                                                          <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                                                            x="0px" y="0px" viewBox="0 0 58 58" style="enable-background:new 0 0 58 58;" xml:space="preserve">
                                                                            <polygon style="fill:#EDEADA;" points="51.5,14 37.5,0 6.5,0 6.5,58 51.5,58 " />
                                                                            <g>
                                                                              <path style="fill:#CEC9AE;"
                                                                                d="M16.5,23h25c0.552,0,1-0.447,1-1s-0.448-1-1-1h-25c-0.552,0-1,0.447-1,1S15.948,23,16.5,23z" />
                                                                              <path style="fill:#CEC9AE;"
                                                                                d="M16.5,15h10c0.552,0,1-0.447,1-1s-0.448-1-1-1h-10c-0.552,0-1,0.447-1,1S15.948,15,16.5,15z" />
                                                                              <path style="fill:#CEC9AE;"
                                                                                d="M41.5,29h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S42.052,29,41.5,29z" />
                                                                              <path style="fill:#CEC9AE;"
                                                                                d="M41.5,37h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S42.052,37,41.5,37z" />
                                                                              <path style="fill:#CEC9AE;"
                                                                                d="M41.5,45h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S42.052,45,41.5,45z" />
                                                                            </g>
                                                                            <polygon style="fill:#CEC9AE;" points="37.5,0 37.5,14 51.5,14 " />
                                                                          </svg>
                                                                        </div>
                                                                        <div class="info">
                                                                          <h4 class="name">
                                                                            {{ file?.name }}
                                                                          </h4>
                                                                          <p class="size">
                                                                            {{ formatBytes(file?.size) }}
                                                                          </p>
                                                                          <app-progress [progress]="file?.progress"></app-progress>
                                                                        </div>
                                                                    
                                                                        <div class="delete" (click)="deleteFile(i)">
                                                                          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 14 18">
                                                                            <path fill="#B1B1B1" fill-rule="nonzero"
                                                                              d="M1 16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v10zm3.17-7.83a.996.996 0 0 1 1.41 0L7 9.59l1.42-1.42a.996.996 0 1 1 1.41 1.41L8.41 11l1.42 1.42a.996.996 0 1 1-1.41 1.41L7 12.41l-1.42 1.42a.996.996 0 1 1-1.41-1.41L5.59 11 4.17 9.58a.996.996 0 0 1 0-1.41zM10.5 1L9.79.29C9.61.11 9.35 0 9.09 0H4.91c-.26 0-.52.11-.7.29L3.5 1H1c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5z" />
                                                                          </svg>
                                                                        </div>
                                                                      </div>
                                                                    </div>
                                                                    <h3> Liste des Consignes</h3>
                                                                    <table *ngIf="currentTravail"> 
                                                                      <thead>
                                                                        
                                                                        
                                                                      </thead>
                                                                      <tbody> 
                                                                       <tr 
                                                                       
                                                                       *ngFor="let file of currentTravail.consignes; let i=index" style="margin-top: 100px;"
                                                                     >
                                                                       <!--<li class="list-group-item">-->
                                                                         <!--<a href="{{ file.piece_jointe }}">{{ {{ files[i].name}}  }}</a> --><!--<button class="button" (click)="downloadFile(file)" >download</button>-->
                                                                       <td width="200px">  <a   href="{{file.piece_jointe}}">  {{ file.file_name}}  </a> 
                                                                        </td>
                                                                        <td><button type="button" class="btn" style="color: black;" (click)="supprimer_Consigne(file,i)"><i class="fa fa-times"></i></button></td>
                                                                        <td>
                                                                          <button (click)="onNextT(file)" class="btn btn-primary btn-sm "><i
                                                                            class="fas fa-external-link-alt"></i>&nbsp;&nbsp; Remises Participants</button>
                                                                         <!--<input #myInput type="file" multiple (change)="selectFiles($event,i)"  [(ngModel)]="file.remises[i].piece_jointe" id="piece_jointe{{i}}" name="piece_jointe{{i}}" />--></td> 
                                                                     <!----  </li>-->
                                                                       </tr>
                                                                       </tbody>
                                                                    </table>
                                                                    <br><br><br>
                                                                    <button class="btn btn-secondary" (click)="onPrevT()">Retour vers Liste des travaux</button>
                                                                   
                
                
                                                                  </app-slider>
                                                                  <app-slider *ngIf="currentt == 2">
                                                                    <br><br>
                                                                    <h2>Consigne <a   href="{{currentConsigne.piece_jointe}}">  {{ currentConsigne.file_name}}  </a> </h2> 
                                                                    <h3>Remises des participant</h3>
                                                                    <br><br><br>
                                                                 
                                                                    
                                                                    
                                                                    <div *ngIf="currentConsigne.remises.length == 0" style="margin-top: 50px;">
                                                                      <b style="margin-left: 300px;">  Aucune Remise trouvée</b>
                                                                     </div>
                                                                    <table class="table" id="table" *ngIf="currentConsigne.remises.length > 0">
                                                                      <thead>
                                                                        <th>Remise</th>
                                                                        <th>Participant</th>
                                                                        <!--<th>Mention</th>-->
                                                                      </thead>
                                                                      <tbody>
                                                                        <tr *ngFor="let remise of currentConsigne.remises">
                                                                          <td><a href="{{remise.piece_jointe}}"> {{remise.file_name}}</a></td>
                                                                          <td>{{remise.participant_name}}</td>
                                                                         <!----<td><select>
                                                                            <option value="TB">T Bien</option>
                                                                            <option value="B">Bien</option>
                                                                            <option value="AB">A Bien</option>
                                                                            <option value="passable"></option>
                                                                          </select></td>-->
                                                                        </tr>
                                                                      </tbody>

                                                                    </table>
                                                                    <br><br><br>
                                                                    <button type="button" class="btn btn-secondary" (click)="onPrevT()">Retour vers la liste des consignes</button>

                                                                  </app-slider>
  
                                                              </div>
                                                            <div class="tab-pane fade show" id="qcm" role="tabpanel"
                                                                  aria-labelledby="qcm-tab">
                                                                  <br>
                                                                  <br>
  
                                                                  <h3> 
                                                                  </h3>
                                                                  <br>
                                                                  <br>
                                                                  <app-sider *ngIf="current == 0  " [left]="isLeftTransition(0)">
                                                                    <!--<div class="border" style="height: 300px;">-->
                                                                      <div class="border" style="height: 300px;">
                                              
                                                                    <button (click)="onNext()" *ngIf="questions1.length === 0" class="btn btn-outline-primary" style="margin-top: 120px;margin-left: 350px;">Créer Quizz</button>
                                                                    <button (click)="onNext()" *ngIf="questions1.length > 0" class="btn btn-outline-primary" style="margin-top: 120px;margin-left: 350px;">Voir Quizz</button>
   
                                                                  </div>
                                                                     </app-sider>
                                                                    <!--</div>-->
                    
                                                                        
                                                                             
   
                                                                          <app-slider  *ngIf="current > 0 && questions1.length >= current"
                                                                              [left]="isLeftTransition(1)">
                                                                                 <div class="border">
                                                                                    <div class="question bg-white p-3 border-bottom">
                                                                                        <div class="d-flex flex-row justify-content-between align-items-center mcq">
                                                                                            <h4> Quiz</h4>
                                                                                            <button type="button" class="btn btn-outline-danger" (click)="consulterscores()">Consulter scores des participants</button>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="question bg-white p-3 border-bottom">
                                                                                        <div class="d-flex flex-row align-items-center question-title"  >
                                                                                            <h3 class="text-danger">Q.{{current}}</h3>&nbsp; 
                                                                                            <input type="text" style="width: 300px;" [(ngModel)] ="questions1[current-1].titre" id="titre" name="titre" class="form-control " name="titre_q{{i}}" id="titre_q{{i}}"> &nbsp;<button type="button" class="btn" style="color: red;" (click)="supprimerQuestion(current-1)"><i class="fa fa-times"></i></button>&nbsp;&nbsp; 
                                                                                            <div class="fa-hover col-lg-3 col-md-3"
                                                                                            style="margin-left: 50px;"><a
                                                                                                (click)=" valider_question()"
                                                                                                 type="button"
                                                                                                 style="color: red;"
                                                                                                class="btn btn-outline-danger"
                                                                                                >
                                                                                                Nouveau </a></div>
                                                                                        </div>
                                                                                      
                                                                                        <div class="ans ml-2" *ngFor="let reponse of questions1[current-1].reponses;let i=index;trackBy: customTrackBy">
                                                                                          <input type="checkbox" id="isvalid{{i}}" name="isvalid{{i}}" id="isvalid{{i}}" [(ngModel)]="reponse.isvalid" > <span>&nbsp;&nbsp;<input type="text" name="option{{i}}" id="option{{i}}" style="width: 300px;" [(ngModel)]="reponse.option"></span> &nbsp;&nbsp;  <button type="button" class="btn" style="color: red;" (click)="deleteReponse(i)"><i class="fa fa-times"></i></button>  <button type="button" class="btn" style="color: black;" (click)="addReponse()" ><i class="fa fa-plus"></i></button>
                                                                                         
                                                                                        </div>
                                                                                        <br><br><br>
                                                                                        <div class="ans ml-2" *ngIf="questions1[current-1].reponses.length == 0">
                                                                                          <button type="button" class="btn btn-outline-danger" (click)="addReponse()">Ajouter des choix</button>
 
                                                                                        </div> 

                                                                                        
                                                                                     <!--<button type="button" class="btn btn-danger"(click)="supprimerQuestion(current-1)">Supprimer la Question</button> -->
                                                                                    </div>
                                                                                    <div class="d-flex flex-row justify-content-between align-items-center p-3 bg-white">
                                                                                      <button  *ngIf="current > 1" class="btn btn-primary d-flex align-items-center btn-danger" type="button" (click)="onPrev()"><i class="fa fa-angle-left mt-1 mr-1"></i>&nbsp;précedent</button>
                                                                                      <button  *ngIf="current == 1" class="btn btn-primary d-flex align-items-center btn-danger" type="button" disabled="dis"><i class="fa fa-angle-left mt-1 mr-1"></i>&nbsp;précedent</button>
                                    
                                                                                      <button class="btn btn-primary border-success align-items-center btn-success" *ngIf="questions1.length > current" type="button"(click)="onNext()">Suivant<i class="fa fa-angle-right ml-2"></i></button>
                                                                                      <button class="btn btn-primary border-success align-items-center btn-success" *ngIf="current == questions1.length" type="button"(click)="onNext()" disabled="disabled">Suivant<i class="fa fa-angle-right ml-2"></i></button>
                                    
                                                                                    </div>
                                                                                </div> 

   
                                                                                  <!--<div class="row">
                                                                                      <a *ngIf="current!==0"
                                                                                          (click)="onPrev()"
                                                                                          class="button"
                                                                                          style="width: 20px;height: 20px;margin-right: 50px;"><i
                                                                                              class="fa fa-arrow-left"
                                                                                            ></i>
                                                                                      </a>
                                                                                     
   
  
                                                                                      <h5 *ngIf="current >0" > Question {{current}}</h5>
                                                                                      <h5 *ngIf="current === 0" style="margin-left: 50px;"> Question {{ current }}</h5>
  
                                                                                      <a  *ngIf="current < questions.length-1"
                                                                                      (click)="onNext()"
                                                                                      class="button disabled"
                                                                                      style="width: 20px;height: 20px;margin-left: 50px;"><i
                                                                                          class="fa fa-arrow-right"
                                                                                         ></i>
                                                                                  </a>
                                                                                     
                                                                                      <div class="fa-hover col-lg-3 col-md-3"
                                                                                          style="margin-left: 50px;"><a
                                                                                              (click)=" valider_question()"
                                                                                              class="button"
                                                                                              style="width: 80px;height: 20px;">
                                                                                              Nouveau </a></div>
  
                                                                                  </div>
                                                                                  <div class="form-horizontal" >
                                                                                      <div class="row form-group">
                                                                                          <div class="col-md-6"><textarea
                                                                                                  name="titre_question_{{current-1}}"
                                                                                                  [(ngModel)]="questions[current-1].titre"
                                                                                                  id="titre_question_{{current-1}}"
                                                                                                  
                                                                                                  rows="9"
                                                                                                  placeholder="Consigne"
                                                                                                  class="form-control"></textarea>
                                                                                          </div>
                                                                                      </div>
                                                                                      <div class="row form-group">
                                                                                           
                                                                                          <table  class="table" style="background-color: white; width: 240px;">
                                                                                             
                                                                                              <tbody>
                                  
                                  
                                  
                                                                                                  <tr
                                                                                                      *ngFor="let reponse of questions[current-1].reponses; index as i; trackBy: customTrackBy">
                                                                                                      <td style="width:40px;" >
                                                                                                          <input type="checkbox" id="isvalid{{i}}" name="isvalid{{i}}" [(ngModel)]="questions[current-1].reponses[i].isvalid" class="form-check-input">
                                                                                                          
                                                                                                      </td>
                                  
                                                                                                      <td style="width: 80px;">
                                                                                                          <input type="text"  
                                                                                                          name="option__{{i}}"
                                                                                                          id="option__{{i}}"
                                                                                                          [(ngModel)]="questions[current-1].reponses[i].option"
                                                                                                          class="form-control"
                                                                                                          >
                                                                                                       </td>
                                                                                                      
                                                                                                     
                                                                                                      <td  style="width: 40px;" (click)="deleteReponse(i)">
                                                                                                          <i class="fa fa-trash fa-2x"></i>
                                                                                                      </td>
                                                                                                  </tr>
                                  
                                                                                                  <tr>
                                                                                                      <td></td>
                                                                                                      <td></td>
                                                                                                      <td (click)="addReponse()">
                                                                                                          <i class="fa fa-plus fa-2x"></i>
                                                                                                      </td>
                                                                                                  </tr>
                                                                                              </tbody>
                                                                                          </table>
  
                                                                                      </div>
                                                                                      <div class="row form-group">
                                                                                           
                                                                                          <button type="button" 
                                                                                              class="btn btn-danger"
                                                                                              (click)="supprimerQuestion(current-1)">Supprimer
                                                                                              la question</button>
                                                                                      </div>
  
                                                                                  </div>
  
  
  
                                                                              </div>-->
                                                                          </app-slider>
                                                                          <app-slider *ngIf="current > questions1.length">
                                                                            <h3><b> Scores des participants</b></h3>
                                                                            <div class="border">
                                                                              
                                                                              <div *ngIf="scoresquizz.length == 0" style="margin-top: 50px;">
                                                                                <b style="margin-left: 300px;">  Aucun Participant a passé le quizz encore</b>
                                                                               </div>
                                                                               <br><br><br>
                                                                              <div class="question bg-white p-3 border-bottom" *ngIf="scoresquizz.length > 0">
                                                                                <table id="table" class="table">
                                                                                  <thead>
                                                                                    <th>Participant</th>
                                                                                    <th>Score</th>
                              
                                                                                  </thead>
                                                                                  <tbody>
                                                                                    <tr *ngFor="let scoreq of scoresquizz">
                                                                                      <td>{{scoreq.participant_name}}</td>
                                                                                      <td>{{scoreq.score}}/{{questions1.length}}</td>
                                                                                    </tr>
                                                                                  </tbody>
                                                                                </table>
                                                                            </div>
                                                                            <button (click)="first()"class="btn btn-secondary">Retour vers quiz</button>
                                                                            </div>
                                                                           
                                                                          </app-slider>
                                                                      </div>
  
                                                                  
  
  
                                                              
                                                              
                                                              <!--<div class="tab-pane fade show" id="qcm" role="tabpanel"
                                                                  aria-labelledby="qcm-tab">

 
                                                                  <app-slider *ngIf="current == 0">
                                                                    <button   class="btn btn-outline-danger" style="margin-top: 120px;margin-left: 350px;">Creer   quiz</button>
                                                                    <button   class="btn btn-outline-danger" style="margin-top: 120px;margin-left: 350px;">Consulter   quiz</button>


                                                                  </app-slider>
                                                                  
                                                                  <app-slider *ngIf="current > 0 "></app-slider>
                                                                  <div class="border">
                                                                    <div class="question bg-white p-3 border-bottom">
                                                                        <div class="d-flex flex-row justify-content-between align-items-center mcq">
                                                                            <h4>{{programme.titre}} Quiz</h4><span>({{current}} of {{questions1.length}})</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="question bg-white p-3 border-bottom">
                                                                        <div class="d-flex flex-row align-items-center question-title">
                                                                            <h3 class="text-danger">Q. {{current}}</h3>
                                                                            <h5 class="mt-1 ml-2"  > </h5>
                                                                        </div>
                                                                       
                                                                       
                                                                     
                                                                    </div>
                                                                    <div class="d-flex flex-row justify-content-between align-items-center p-3 bg-white">
                                                                      <button   class="btn btn-primary d-flex align-items-center btn-danger" type="button" ><i class="fa fa-angle-left mt-1 mr-1"></i>&nbsp;précedent</button>
                                                                      <button   class="btn btn-primary d-flex align-items-center btn-danger" type="button" disabled="dis"><i class="fa fa-angle-left mt-1 mr-1"></i>&nbsp;précedent</button>
                    
                                                                      <button class="btn btn-primary border-success align-items-center btn-success"  type="button"  >Suivant<i class="fa fa-angle-right ml-2"></i></button>
                     
                                                                    </div>
                                                                </div> 
                                                                  </div>-->
                                                          </form>
                                                      </div>
  
                                                   
  
  
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                      <div class="modal fade" id="testModal" tabindex="-1" role="dialog" name="testModal"
                      aria-labelledby="largeModalLabel" aria-hidden="true"> 
                      <div class="modal-dialog modal-lg" role="document">
                        <div class="modal-content">
                          <div class="modal-header" style="height: 60px;">
                            <h2 class="modal-title" id="largeModalLabel"></h2>
                            <button type="button" class="close" data-dismiss="modal"
                              aria-label="Close" #closebtn>
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body" id="consignes">
                            <mat-tab-group>
                              <mat-tab label="Consigne" style="color: black;" active>
                                    <!--<div class="jumbotron" style="background-color: white;">-->
                                      <br><br>
                                    <div class="row">
                                      <div class="col-8">

                                        <label class="btn btn-default p-0">
                                          <input #myInput type="file" multiple (change)="selectFiles($event)"  />
                                        </label>
                                      </div>
                                    
                                      <div class="col-4">
                                        <button
                                        type="button"
                                          class="btn btn-primary btn-sm"
                                          id="Upload"
                                          [disabled]="!selectedFiles"
                                          (click)="uploadFiles()"
                                        >
                                          Upload
                                        </button>
                                      </div>
                                    </div>
                                     <br>
                                    
                                    <div *ngIf="message.length" class="alert alert-secondary my-3" role="alert">
                                      <ul *ngFor="let msg of message; let i = index">
                                        <li>{{ msg }}</li>
                                      </ul>
                                    </div>
                                    <br>



                                     <table *ngIf="currentTravail"> 
                                    
                                       <tr 
                                        
                                        *ngFor="let file of currentTravail.consignes;let i=index "
                                      >
                                        <!--<li class="list-group-item">-->
                                          <!--<a href="{{ file.piece_jointe }}">{{ {{ files[i].name}}  }}</a> --><!--<button class="button" (click)="downloadFile(file)" >download</button>-->
                                        <td>  <a *ngIf="file.id" href="{{file.piece_jointe}}">  {{ file.file_name}}  </a> 
                                         {{file.name}}</td>
                                        <td> <button class="btn" style="color: black;" (click)="supprimer_file(i)"  ><i class="fa fa-times"></i> </button></td>
                                         <td> <button *ngIf="file.id"    class="btn"  (click)="downloadFile(file)"><i class="fa fa-download"></i></button></td>
                                        
                                      <!----  </li>-->
                                        </tr>
                                     </table>
                                    
                                   
                                  <!--<form #consigneForm="ngForm"> 
                               
                                <table class="table table-striped table-bordered">
                                  <thead>
                                    <tr>
                                      <th>Consigne  </th>
                                       <th>Action</th>
  
                                    </tr>
                                  </thead>
                                  <tbody>
                                
                                 {{modal.index}}
  
                                    <tr *ngFor="let consigne of  traveaux[modal.index].consignes  index as j; trackBy: customTrackBy">
                                       <td>
                                        <input type="file" class="form-control-file" (change)="onChange($event)"
                                      [(ngModel)]="traveaux[modal.index].consignes[j].piece_jointe" value="traveaux[modal.index].consignes[j].piece_jointe" name='piece_jointe{{modal.index}}{{j}}' id='piece_jointe{{modal.index}}{{j}}'>
                                      
                                          </td>
                                      
                                      <td (click)="deleteConsigne(i)">
                                        <i class="fa fa-trash fa-2x"></i>
                                      </td>
                                    </tr>
  
                                    <tr>
                                      
                                      <td></td>
                                      <td (click)="addConsigne()">
                                        <i class="fa fa-plus fa-2x"></i>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>-
                                </form>-->
  
  
  
                              </mat-tab>
                              <mat-tab label="Remise"></mat-tab>
                              <!--<mat-tab label="Remise">
  
                                <table id="example" class="table table-striped" style="width:100%">
                                  <thead>
                                    <tr>
                                      <th>Actions</th>
                                      <th>Titre</th>
                                      <th>Piece Jointe</th>
  
  
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let remise of remises; let i = index;">
                                      <td (click)="deleteRemise(i)">
                                        <i class="fa fa-trash fa-2x"></i>
                                      </td>
                                      <td>
                                        <input type="text" id="titre" [(ngModel)]="remises[i].titre"
                                          class="form-control">
                                      </td>
                                      <td>
                                        <input type="file" class="form-control-file"
                                          id="piece_jointe" [(ngModel)]="remises[i].piece_jointe">
                                      </td>
                                    </tr>
                                    <tr>
                                      <td (click)="addRemise()">
                                        <i class="fa fa-plus"></i>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
  
                              </mat-tab>-->
                            </mat-tab-group>
  
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-secondary"
                              data-dismiss="modal">Annuler</button>
                            <button type="button" class="btn btn-primary"
                              (click)="valider()">Valider</button>
                          </div>
                        </div>
                      </div>
                    </div> 
                                      <button class="btn btn-success btn-flat m-b-30 m-t-30" style="margin-left: 350px;" id="valider" type="submit">Valider</button>
                                      <button type="button" class="btn btn-danger" style="margin-left: 50px;" >Annuler</button>
  
                                  </form>
  
  
  
  
  
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
  </div>